<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title></title>
    <link rel="stylesheet" href="css/bootstrap.css"/>
    <script  src="js/jquery.min.js"></script>
    <script  src="js/popper.min.js"></script>
    <script  src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/register.css"/>
    <link rel="stylesheet" href="css/bootstrap.css"/>
    <
</head>
<body>
     <form >
        <div class="login_uname mt-3">
                <span>用户名:</span>
                <input type="text" name="uname" id="uname" placeholder="请输入邮箱/用户名/手机号码"  class="pl-3" onfocus="uname_focus()"
                 onblur="uname_blur()"/>
            </div>
    
            <p id="showUpwd" class="text-danger text-center mb-0 mt-2"></p>
            <div class="login_upwd mt-3">
                <span>用户密码:</span>
                <input type="password" name="upwd" id="upwd" placeholder="请输入密码" class="pl-3"  onfocus="upwd_focus()"
                onblur="upwd_blur()"/>
            </div>
    
            <p id="showCpwd" class="text-danger text-center mb-0 mt-2"></p>
            <div class="login_cpwd mt-3">
                <span>确认密码:</span>
                <input type="password" name="cpwd" id="cpwd" placeholder="请确认密码" class="pl-3" onfocus="cpwd_focus()"
                onblur="cpwd_blur()"/>
            </div>
    
            <p id="showEmail" class="text-danger text-center mb-0 mt-2"></p>
            <div class="login_email mt-3">
                <span>邮箱:</span>
                <input type="email" name="email" id="email" placeholder="请输入邮箱地址" class="pl-3" onfocus="email_focus()"
                />
            </div>
    
            <p id="showPhone" class="text-danger text-center mb-0 mt-2"></p>
            <div class="login_phone mt-3">
                <span>手机号码:</span>
                <input type="number" name="phone"  id="phone" placeholder="请输入您的手机号码" class="pl-3" onfocus="phone_focus()"
             />
            </div>
    
    
            <div class="login_btn text-center">
                <input type="button" value="提交注册信息" class="btn btn-success" onclick="register()"/>
            </div>
        </form>  

<script src="js/common.js"></script>   
    <script src="js/register.js"></script>
<script>
        function uname_focus(){
            $("showUname").innerHTML="3-12位的数字、字母和下划线的任意组合"
         }
         function uname_blur(){
            var uname=$("uname").value;
             if(uname==""){
              $("showUname").innerHTML="用户名不能为空!";
             }else{
                 $("showUname").innerHTML="通过"
             }
         }
         
         
         function upwd_focus(){
            $("showUpwd").innerHTML="8-16位置的数字、字母和下划线的任意组合"
         }
         function upwd_blur(){
             var upwd=$("upwd").value;
             if(upwd==""){
                 $("showUpwd").innerHTML="密码不能为空!";
             }else{
                 $("showUpwd").innerHTML="通过"
             }
         }
         
         function cpwd_focus(){
             $("showCpwd").innerHTML="请输入与上面一样的密码"
         }
         
         function cpwd_blur(){
             var upwd=$("upwd").value;
             var cpwd=$("cpwd").value;
             if(cpwd!="" && cpwd==upwd){
                 $("showCpwd").innerHTML="通过";
             }else{
                 $("showCpwd").innerHTML="两次密码不一致！"
             }
         }
         
         function email_focus(){
             $("showEmail").innerHTML="带有@和后缀的邮箱"
         }
         
         function phone_focus(){
             $("showPhone").innerHTML="请输入11位的手机号码"
         }   
           
         
         //发送异步请求
         
         function register(){
             var xhr=createXhr();
           xhr.onreadystatechange=function(){
              if(xhr.readyState==4&&xhr.status==200){
                  var res=xhr.responseText;
                  alert(res);
              } 
           }  
             //3.打开连接
            xhr.open("post","/user/register",true)
            xhr.setRequestHeader("Content-Type","application/x-wwww-form-urlencoded");
              //4 获取所有要提交的数据
            var uname=$("uname").value;
            var upwd=$("upwd").value;
            var email=$("email").value;
            var phone=$("phone").value;
             var url="uname="+uname+"&upwd="+upwd+"&email="+email+"&phone="+phone;
              xhr.send(url);
              console.log(url)
          }
          



</script>


</body>
</html>